/* ---
Root Variables & Theme Setup
--- */
:root {
    --font-sans: 'Inter', sans-serif;
    --font-display: 'Zilla Slab', serif;

    /* Light Theme */
    --color-bg: #f3f4f6; /* gray-100 */
    --color-bg-alt: #ffffff; /* white */
    --color-text: #111827; /* gray-900 */
    --color-text-alt: #4b5563; /* gray-600 */
    --color-border: #e5e7eb; /* gray-200 */
    --color-primary: #6366f1; /* indigo-500 */
    --color-primary-hover: #4f46e5; /* indigo-600 */
    --nav-bg: rgba(255, 255, 255, 0.7);

    /* Shared */
    --toast-success: #10B981; /* green-500 */
    --toast-error: #EF4444; /* red-500 */
    --toast-info: #3B82F6; /* blue-500 */
}

.dark {
    /* Dark Theme */
    --color-bg: #111827; /* gray-900 */
    --color-bg-alt: #1f2937; /* gray-800 */
    --color-text: #f9fafb; /* gray-50 */
    --color-text-alt: #9ca3af; /* gray-400 */
    --color-border: #374151; /* gray-700 */
    --color-primary: #818cf8; /* indigo-400 */
    --color-primary-hover: #a5b4fc; /* indigo-300 */
    --nav-bg: rgba(31, 41, 55, 0.7);
}

body {
    background-color: var(--color-bg);
    color: var(--color-text);
    font-family: var(--font-sans);
}

/* ---
Typography
--- */
.font-display {
    font-family: var(--font-display);
}

/* Page titles */
h1 {
    @apply text-4xl font-bold font-display mb-4;
}
h2 {
    @apply text-2xl font-bold font-display mb-3;
}
h3 {
    @apply text-xl font-bold mb-2;
}
p {
    @apply mb-4 leading-relaxed;
}

/* ---
Navigation & Glassmorphism
--- */
#main-nav {
    background-color: var(--nav-bg);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--color-border);
}

.nav-link {
    @apply text-gray-700 dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-300 px-3 py-2 rounded-md text-sm font-medium transition-colors;
}
.nav-link.active {
    @apply text-indigo-500 dark:text-indigo-300 font-bold;
}

.mobile-nav-link {
    @apply block px-4 py-2 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700;
}

.nav-icon-btn {
    @apply p-2 rounded-full text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors;
}

/* Dropdown Menu */
.dropdown-menu {
    @apply absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5;
}
.dropdown-item {
    @apply block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700;
}
.dropdown-item-danger {
    @apply text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/50;
}

/* ---
Buttons & Forms
--- */
.btn {
    @apply inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-150 transform hover:-translate-y-0.5;
}
.btn:active {
    @apply transform translate-y-0;
}
.btn-sm {
    @apply px-3 py-1.5 text-sm;
}
.btn-lg {
    @apply px-6 py-3 text-lg;
}

.btn-primary {
    @apply text-white bg-indigo-500 hover:bg-indigo-600 dark:bg-indigo-400 dark:text-gray-900 dark:hover:bg-indigo-300;
}
.btn-outline {
    @apply text-indigo-500 border-indigo-500 hover:bg-indigo-50 dark:text-indigo-300 dark:border-indigo-400 dark:hover:bg-indigo-900/50;
}
.btn-danger {
    @apply text-white bg-red-600 hover:bg-red-700;
}

/* Custom Form Input Glow */
.form-input {
    @apply block w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:placeholder-gray-500;
    @apply focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:focus:ring-indigo-400 dark:focus:border-indigo-400;
}

.form-label {
    @apply block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1;
}

/* ---
Modals
--- */
.modal-content {
    @apply bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6;
}
.modal-title {
    @apply text-2xl font-bold font-display mb-4 text-gray-900 dark:text-white;
}
.modal-close-btn {
    @apply absolute top-3 right-3 p-2 rounded-full text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700;
}

/* Modal Animations */
#modal-backdrop.visible {
    @apply opacity-100;
}
#modal-container.visible {
    @apply opacity-100 translate-y-0 scale-100;
}

/* ---
Toast Notifications
--- */
.toast {
    @apply w-full max-w-xs p-4 rounded-lg shadow-lg flex items-center gap-3 text-white text-sm font-medium transition-all duration-300;
    transform: translateX(120%);
    opacity: 0;
}
.toast.visible {
    transform: translateX(0);
    opacity: 1;
}
.toast-success {
    background-color: var(--toast-success);
}
.toast-error {
    background-color: var(--toast-error);
}
.toast-info {
    background-color: var(--toast-info);
}

/* ---
Loaders & Spinners
--- */
.spinner-sm {
    @apply w-4 h-4 border-2 border-t-transparent border-current rounded-full animate-spin;
}
.spinner-lg {
    @apply w-12 h-12 border-4 border-t-transparent border-indigo-400 rounded-full animate-spin;
}
.page-loader {
    @apply w-full h-64 flex items-center justify-center;
}

/* ---
Quiz Elements
--- */
.quiz-question-card {
    @apply bg-white dark:bg-gray-800 p-6 sm:p-8 rounded-lg shadow-xl transition-all duration-300;
}
.quiz-option-group {
    @apply grid grid-cols-1 md:grid-cols-2 gap-3 mt-6;
}
.quiz-option-btn {
    @apply w-full text-left p-4 border border-gray-300 dark:border-gray-700 rounded-md hover:border-indigo-500 dark:hover:border-indigo-400 hover:bg-indigo-50 dark:hover:bg-gray-700 transition-colors;
}
.quiz-option-btn.selected {
    @apply bg-indigo-50 dark:bg-gray-700 border-indigo-500 dark:border-indigo-400 ring-2 ring-indigo-500 dark:ring-indigo-400;
}

/* ---
Results Page
--- */
.results-axis-bar {
    @apply w-full h-6 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden;
}
.results-axis-fill {
    @apply h-full rounded-full transition-all duration-1000 ease-out;
}

/* ---
AdSense Containers
--- */
/* Start with ads hidden */
.ad-container {
    display: none;
}
/* When ads are enabled via JS, show them */
body.ads-enabled .ad-container {
    display: block;
}

/* Placeholder styles */
.ad-placeholder {
    @apply w-full h-24 bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-500 rounded-md;
}
.ad-container.ad-top { @apply w-full max-w-7xl mx-auto p-4; }
.ad-container.ad-side { @apply w-40 h-96 p-4 hidden lg:block; }
.ad-container.ad-side .ad-placeholder { @apply h-full; }
